

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>gbj_pythonlib_sw package &mdash; gbj_phytonlib_sw 1.0.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> gbj_phytonlib_sw
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="readme.html">Purpose of the package</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Change log</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">gbj_phytonlib_sw</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>gbj_pythonlib_sw package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/gbj_pythonlib_sw.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="gbj-pythonlib-sw-package">
<h1>gbj_pythonlib_sw package<a class="headerlink" href="#gbj-pythonlib-sw-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-gbj_pythonlib_sw.config">
<span id="gbj-pythonlib-sw-config-module"></span><h2>gbj_pythonlib_sw.config module<a class="headerlink" href="#module-gbj_pythonlib_sw.config" title="Permalink to this headline">¶</a></h2>
<p>Module for managing a configuration INI file.</p>
<dl class="class">
<dt id="gbj_pythonlib_sw.config.Config">
<em class="property">class </em><code class="descclassname">gbj_pythonlib_sw.config.</code><code class="descname">Config</code><span class="sig-paren">(</span><em>file</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/config.html#Config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.config.Config" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Create a manager for a configuration INI file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>file</strong> (<em>string</em><em>, </em><em>pointer</em>) – Full path to a configuration file or file pointer of already opened
file.
<em>The argument is mandatory and has no default value.</em></td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>A single class instance object manages just one configuration file.
If more configuration files are needed to manage, separate instances should
be created.</p>
<dl class="method">
<dt id="gbj_pythonlib_sw.config.Config.get_content">
<code class="descname">get_content</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/config.html#Config.get_content"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.config.Config.get_content" title="Permalink to this definition">¶</a></dt>
<dd><p>Create string with configuration parameters in form of INI file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Content of the configuration file without comments.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>All section and options are listed including from <code class="docutils literal notranslate"><span class="pre">DEFAULT</span></code> section.</p>
</dd></dl>

<dl class="method">
<dt id="gbj_pythonlib_sw.config.Config.option">
<code class="descname">option</code><span class="sig-paren">(</span><em>option</em>, <em>section</em>, <em>default=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/config.html#Config.option"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.config.Config.option" title="Permalink to this definition">¶</a></dt>
<dd><p>Read configuration option’s value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>option</strong> (<em>str</em>) – Configuration file option to be read.
<em>The argument is mandatory and has no default value.</em></li>
<li><strong>section</strong> (<em>str</em>) – Configuration file section where to search the option.
<em>The argument is mandatory and has no default value.</em></li>
<li><strong>default</strong> (<em>str</em>) – Default option value, if configuration file has neither
the option nor the section.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Configuration option value or default one.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gbj_pythonlib_sw.config.Config.option_split">
<code class="descname">option_split</code><span class="sig-paren">(</span><em>option</em>, <em>section</em>, <em>appendix=[]</em>, <em>separator='</em>, <em>'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/config.html#Config.option_split"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.config.Config.option_split" title="Permalink to this definition">¶</a></dt>
<dd><p>Read configuration option, append to it, and split its value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>option</strong> (<em>str</em>) – Configuration file option to be read.
<em>The argument is mandatory and has no default value.</em></li>
<li><strong>section</strong> (<em>str</em>) – Configuration file section where to search the option.
<em>The argument is mandatory and has no default value.</em></li>
<li><strong>appendix</strong> (<em>list</em>) – List of additonal option value parts that should be added
to the read option for splitting purposes.</li>
<li><strong>separator</strong> (<em>str</em>) – String used as a separator for spliting the option. It is used
for glueing appendix list members with read option and at the same
time for splitting the entire, composed option value.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">List of a configuration option parts.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of str</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gbj_pythonlib_sw.config.Config.options">
<code class="descname">options</code><span class="sig-paren">(</span><em>section</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/config.html#Config.options"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.config.Config.options" title="Permalink to this definition">¶</a></dt>
<dd><p>Read list of options in a section.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>section</strong> (<em>str</em>) – Configuration section to be read from.
<em>The argument is mandatory and has no default value.</em></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">List of configuration option names.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list of str</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-gbj_pythonlib_sw.mqtt">
<span id="gbj-pythonlib-sw-mqtt-module"></span><h2>gbj_pythonlib_sw.mqtt module<a class="headerlink" href="#module-gbj_pythonlib_sw.mqtt" title="Permalink to this headline">¶</a></h2>
<p>Module for communicating with MQTT brokers.</p>
<p class="rubric">Notes</p>
<ul class="simple">
<li>Connection to MQTT brokers is supposed to be over TCP.</li>
<li>All parameters for MQTT brokers and clients should be defined
in a configuration file utilized by a script or application employed this
package.</li>
<li>MQTT parameters are communicated with class instances of the module
indirectly in form of pair option-section from the configuration file.</li>
<li>Module constants are usual configuration options used at every form of MQTT
brokers. Those options can be considered as common names for common
identifiers either MQTT brokers or clients regardles of the configuration
sections.</li>
<li>Particular classed have their own class constants, which define specific
configuration options and sections utilized for that form of MQTT broker.</li>
<li>All module and class constants should be considered as default values.
At each calling of respective methods specific configuration options and
sections can be used. However, using in module standardized options and
sections is recommended.</li>
</ul>
<dl class="class">
<dt id="gbj_pythonlib_sw.mqtt.MQTT">
<em class="property">class </em><code class="descclassname">gbj_pythonlib_sw.mqtt.</code><code class="descname">MQTT</code><span class="sig-paren">(</span><em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/mqtt.html#MQTT"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.mqtt.MQTT" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Common MQTT management.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>config</strong> (<em>object</em>) – Object for access to a configuration INI file.
It is instance of the class <code class="docutils literal notranslate"><span class="pre">Config</span></code> from this package’s module
<code class="docutils literal notranslate"><span class="pre">config</span></code>.
Particular configuration file is already open.
Injection of the config file object to this class instance is a form
of attaching that file to this object.</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>This class should not be instanciated. It servers as a abstract class and
a parent class for operational classes for particular MQTT brokers.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">config.Config</span></code></dt>
<dd>Class for managing configuration INI files.</dd>
</dl>
</div>
<dl class="method">
<dt id="gbj_pythonlib_sw.mqtt.MQTT.get_connected">
<code class="descname">get_connected</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/mqtt.html#MQTT.get_connected"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.mqtt.MQTT.get_connected" title="Permalink to this definition">¶</a></dt>
<dd><p>Return connection flag.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Flag about successful connection to an MQTT broker.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gbj_pythonlib_sw.mqtt.MqttBroker">
<em class="property">class </em><code class="descclassname">gbj_pythonlib_sw.mqtt.</code><code class="descname">MqttBroker</code><span class="sig-paren">(</span><em>config</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/mqtt.html#MqttBroker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.mqtt.MqttBroker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gbj_pythonlib_sw.mqtt.MQTT" title="gbj_pythonlib_sw.mqtt.MQTT"><code class="xref py py-class docutils literal notranslate"><span class="pre">gbj_pythonlib_sw.mqtt.MQTT</span></code></a></p>
<p>Managing an MQTT client connection to usually local MQTT broker.</p>
<p class="rubric">Notes</p>
<ul class="simple">
<li>The client utilizes MQTT topics and filter definitions from
a configuration file.</li>
</ul>
<dl class="attribute">
<dt id="gbj_pythonlib_sw.mqtt.MqttBroker.GROUP_BROKER">
<code class="descname">GROUP_BROKER</code><em class="property"> = 'MQTTbroker'</em><a class="headerlink" href="#gbj_pythonlib_sw.mqtt.MqttBroker.GROUP_BROKER" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> – Predefined configuration section with MQTT broker parameters.</p>
</dd></dl>

<dl class="attribute">
<dt id="gbj_pythonlib_sw.mqtt.MqttBroker.GROUP_DEFAULT">
<code class="descname">GROUP_DEFAULT</code><em class="property"> = 'DEFAULT'</em><a class="headerlink" href="#gbj_pythonlib_sw.mqtt.MqttBroker.GROUP_DEFAULT" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> – Default configuration section with MQTT variables.</p>
</dd></dl>

<dl class="attribute">
<dt id="gbj_pythonlib_sw.mqtt.MqttBroker.GROUP_FILTERS">
<code class="descname">GROUP_FILTERS</code><em class="property"> = 'MQTTfilters'</em><a class="headerlink" href="#gbj_pythonlib_sw.mqtt.MqttBroker.GROUP_FILTERS" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> – Predefined configuration section with MQTT topic filters.</p>
</dd></dl>

<dl class="attribute">
<dt id="gbj_pythonlib_sw.mqtt.MqttBroker.GROUP_TOPICS">
<code class="descname">GROUP_TOPICS</code><em class="property"> = 'MQTTtopics'</em><a class="headerlink" href="#gbj_pythonlib_sw.mqtt.MqttBroker.GROUP_TOPICS" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> – Predefined configuration section with MQTT topics.</p>
</dd></dl>

<dl class="method">
<dt id="gbj_pythonlib_sw.mqtt.MqttBroker.callback_filters">
<code class="descname">callback_filters</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/mqtt.html#MqttBroker.callback_filters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.mqtt.MqttBroker.callback_filters" title="Permalink to this definition">¶</a></dt>
<dd><p>Register callback functions for particular MQTT topic groups.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Keyword Arguments:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><ul class="first last simple">
<li><strong>key</strong> (<em>str</em>) – The key of the argument dictionary is a configuration option
defining a topic, to which a topic filter is related.</li>
<li><strong>value</strong> (<em>tuple</em>) – <p>The value of the argument dictionary is a tuple with <code class="docutils literal notranslate"><span class="pre">callback</span></code>
and <code class="docutils literal notranslate"><span class="pre">section</span></code> defining MQTT topic filter.</p>
<ul>
<li>If section is <cite>GROUP_FILTERS</cite>, the argument value can be just
the callback function.</li>
<li>If section is not <cite>GROUP_FILTERS</cite>, the argument value should be
a tuple:<blockquote>
<div>server_test=mqtt_on_message_test
server_sensor_temp=(mqtt_on_temp, ConfigMqtt.GROUP_TOPICS)</div></blockquote>
</li>
</ul>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<ul class="simple">
<li>The method should be used before subscribing to respective filtered
topics. The best place is in the <code class="docutils literal notranslate"><span class="pre">on_connect</span></code> callback.</li>
<li>The method can be called multiple times. For configuration option
used at a previous call the filter callback is just updated.</li>
<li>If the callback is None, the filter for corresponding topic is
removed.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="gbj_pythonlib_sw.mqtt.MqttBroker.connect">
<code class="descname">connect</code><span class="sig-paren">(</span><em>username=None</em>, <em>password=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/mqtt.html#MqttBroker.connect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.mqtt.MqttBroker.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Connect to MQTT broker and set credentials.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>username</strong> (<em>str</em>) – Login name of the registered user at MQTT broker.</li>
<li><strong>password</strong> (<em>str</em>) – Password of the registered user at MQTT broker.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gbj_pythonlib_sw.mqtt.MqttBroker.disconnect">
<code class="descname">disconnect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/mqtt.html#MqttBroker.disconnect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.mqtt.MqttBroker.disconnect" title="Permalink to this definition">¶</a></dt>
<dd><p>Disconnect from MQTT broker.</p>
</dd></dl>

<dl class="method">
<dt id="gbj_pythonlib_sw.mqtt.MqttBroker.lwt">
<code class="descname">lwt</code><span class="sig-paren">(</span><em>message</em>, <em>option</em>, <em>section='MQTTtopics'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/mqtt.html#MqttBroker.lwt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.mqtt.MqttBroker.lwt" title="Permalink to this definition">¶</a></dt>
<dd><p>Set last will and testament.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>message</strong> (<em>str</em>) – Data to be set as LWT payload.
<em>The argument is mandatory and has no default value.</em></li>
<li><strong>option</strong> (<em>str</em>) – Configuration option from attached configuration file with
definition of an MQTT topic for LWT.
<em>The argument is mandatory and has no default value.</em></li>
<li><strong>section</strong> (<em>str</em>) – Configuration section from attached configuration file, where
configuration option should be searched.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal notranslate"><span class="pre">Exception</span></code> – If qos is not 0, 1 or 2, or if topic is None
or has zero string length.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gbj_pythonlib_sw.mqtt.MqttBroker.publish">
<code class="descname">publish</code><span class="sig-paren">(</span><em>message</em>, <em>option</em>, <em>section='MQTTtopics'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/mqtt.html#MqttBroker.publish"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.mqtt.MqttBroker.publish" title="Permalink to this definition">¶</a></dt>
<dd><p>Publish to an MQTT topic.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>message</strong> (<em>str</em>) – Data to be published into the topic.
<em>The argument is mandatory and has no default value.</em></li>
<li><strong>option</strong> (<em>str</em>) – Configuration option from attached configuration file with
definition of an MQTT topic, which should be published to.
<em>The argument is mandatory and has no default value.</em></li>
<li><strong>section</strong> (<em>str</em>) – Configuration section from attached configuration file, where
configuration option should be searched.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal notranslate"><span class="pre">Exception</span></code> – General exception with error code.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gbj_pythonlib_sw.mqtt.MqttBroker.reconnect">
<code class="descname">reconnect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/mqtt.html#MqttBroker.reconnect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.mqtt.MqttBroker.reconnect" title="Permalink to this definition">¶</a></dt>
<dd><p>Reconnect to MQTT broker.</p>
</dd></dl>

<dl class="method">
<dt id="gbj_pythonlib_sw.mqtt.MqttBroker.subscribe_filters">
<code class="descname">subscribe_filters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/mqtt.html#MqttBroker.subscribe_filters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.mqtt.MqttBroker.subscribe_filters" title="Permalink to this definition">¶</a></dt>
<dd><p>Subscribe to all MQTT topic filters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal notranslate"><span class="pre">Exception</span></code> – General exception with error code.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gbj_pythonlib_sw.mqtt.MqttBroker.subscribe_topic">
<code class="descname">subscribe_topic</code><span class="sig-paren">(</span><em>option</em>, <em>section='MQTTtopics'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/mqtt.html#MqttBroker.subscribe_topic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.mqtt.MqttBroker.subscribe_topic" title="Permalink to this definition">¶</a></dt>
<dd><p>Subscribe to an MQTT topic.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>option</strong> (<em>str</em>) – Configuration option from attached configuration file with
definition of an MQTT topic, which should be read.
<em>The argument is mandatory and has no default value.</em></li>
<li><strong>section</strong> (<em>str</em>) – Configuration section from attached configuration file, where
configuration option should be searched.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal notranslate"><span class="pre">Exception</span></code> – General exception with error code.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gbj_pythonlib_sw.mqtt.MqttBroker.topic_def">
<code class="descname">topic_def</code><span class="sig-paren">(</span><em>option</em>, <em>section='MQTTtopics'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/mqtt.html#MqttBroker.topic_def"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.mqtt.MqttBroker.topic_def" title="Permalink to this definition">¶</a></dt>
<dd><p>Return MQTT topic definition parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>option</strong> (<em>str</em>) – Configuration option from attached configuration file with
definition of an MQTT topic, which should be read.
<em>The argument is mandatory and has no default value.</em></li>
<li><strong>section</strong> (<em>str</em>) – Configuration section from attached configuration file, where
configuration option should be searched.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">MQTT topic parameters as <code class="docutils literal notranslate"><span class="pre">name</span></code>, <code class="docutils literal notranslate"><span class="pre">qos</span></code>, <code class="docutils literal notranslate"><span class="pre">retain</span></code>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple of str and boolean</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The method appends <code class="docutils literal notranslate"><span class="pre">0</span></code> as the default <cite>qos</cite> and <code class="docutils literal notranslate"><span class="pre">0</span></code> as default
<code class="docutils literal notranslate"><span class="pre">retain</span></code> to the read topic definition for cases, when no <cite>qos</cite> and
<cite>retain</cite> is defined in order to split the topic properly.</p>
</dd></dl>

<dl class="method">
<dt id="gbj_pythonlib_sw.mqtt.MqttBroker.topic_name">
<code class="descname">topic_name</code><span class="sig-paren">(</span><em>option</em>, <em>section='MQTTtopics'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/mqtt.html#MqttBroker.topic_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.mqtt.MqttBroker.topic_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return MQTT topic name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>option</strong> (<em>str</em>) – Configuration option from attached configuration file with
definition of an MQTT topic, which should be read.
<em>The argument is mandatory and has no default value.</em></li>
<li><strong>section</strong> (<em>str</em>) – Configuration section from attached configuration file, where
configuration option should be searched.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">MQTT topic name.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gbj_pythonlib_sw.mqtt.MqttBroker.topic_qos">
<code class="descname">topic_qos</code><span class="sig-paren">(</span><em>option</em>, <em>section='MQTTtopics'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/mqtt.html#MqttBroker.topic_qos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.mqtt.MqttBroker.topic_qos" title="Permalink to this definition">¶</a></dt>
<dd><p>Return MQTT topic QoS.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>option</strong> (<em>str</em>) – Configuration option from attached configuration file with
definition of an MQTT topic, which should be read.
<em>The argument is mandatory and has no default value.</em></li>
<li><strong>section</strong> (<em>str</em>) – Configuration section from attached configuration file, where
configuration option should be searched.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">MQTT topic <cite>quality of service</cite> as an absolute integer of second
parameter of read topic definition.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">int</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gbj_pythonlib_sw.mqtt.MqttBroker.topic_retain">
<code class="descname">topic_retain</code><span class="sig-paren">(</span><em>option</em>, <em>section='MQTTtopics'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/mqtt.html#MqttBroker.topic_retain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.mqtt.MqttBroker.topic_retain" title="Permalink to this definition">¶</a></dt>
<dd><p>Return MQTT topic retain flag.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>option</strong> (<em>str</em>) – Configuration option from attached configuration file with
definition of an MQTT topic, which should be read.
<em>The argument is mandatory and has no default value.</em></li>
<li><strong>section</strong> (<em>str</em>) – Configuration section from attached configuration file, where
configuration option should be searched.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">MQTT topic <cite>retain</cite> as an logical value of third parameter of read
topic definition.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">boolean</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="data">
<dt id="gbj_pythonlib_sw.mqtt.OPTION_CLIENTID">
<code class="descclassname">gbj_pythonlib_sw.mqtt.</code><code class="descname">OPTION_CLIENTID</code><em class="property"> = 'clientid'</em><a class="headerlink" href="#gbj_pythonlib_sw.mqtt.OPTION_CLIENTID" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> – Configuration option with MQTT client identifier.</p>
</dd></dl>

<dl class="data">
<dt id="gbj_pythonlib_sw.mqtt.OPTION_HOST">
<code class="descclassname">gbj_pythonlib_sw.mqtt.</code><code class="descname">OPTION_HOST</code><em class="property"> = 'host'</em><a class="headerlink" href="#gbj_pythonlib_sw.mqtt.OPTION_HOST" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> – Configuration option with MQTT broker IP or URL.</p>
</dd></dl>

<dl class="data">
<dt id="gbj_pythonlib_sw.mqtt.OPTION_PORT">
<code class="descclassname">gbj_pythonlib_sw.mqtt.</code><code class="descname">OPTION_PORT</code><em class="property"> = 'port'</em><a class="headerlink" href="#gbj_pythonlib_sw.mqtt.OPTION_PORT" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – Configuration option with MQTT broker HTTP port.</p>
</dd></dl>

<dl class="data">
<dt id="gbj_pythonlib_sw.mqtt.OPTION_USERDATA">
<code class="descclassname">gbj_pythonlib_sw.mqtt.</code><code class="descname">OPTION_USERDATA</code><em class="property"> = 'userdata'</em><a class="headerlink" href="#gbj_pythonlib_sw.mqtt.OPTION_USERDATA" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> – Configuration option with custom data for MQTT callbacks.</p>
</dd></dl>

<dl class="class">
<dt id="gbj_pythonlib_sw.mqtt.ThingSpeak">
<em class="property">class </em><code class="descclassname">gbj_pythonlib_sw.mqtt.</code><code class="descname">ThingSpeak</code><span class="sig-paren">(</span><em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/mqtt.html#ThingSpeak"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.mqtt.ThingSpeak" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gbj_pythonlib_sw.mqtt.MQTT" title="gbj_pythonlib_sw.mqtt.MQTT"><code class="xref py py-class docutils literal notranslate"><span class="pre">gbj_pythonlib_sw.mqtt.MQTT</span></code></a></p>
<p>Connect and publish to ThingSpeak MQTT broker.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>config</strong> (<em>object</em>) – Object for access to a configuration INI file.
It is instance of the class <code class="docutils literal notranslate"><span class="pre">Config</span></code> from this package module
<code class="docutils literal notranslate"><span class="pre">config</span></code>.
Particular configuration is already open.
Injection of the config file object to this class instance it a form
of attaching that file to this object.</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<ul class="simple">
<li>The class only provides single publishing to ThingSpeak, so that
connecting and disconnecting to the ThingSpeak broker is automatic.</li>
<li>The class follows allowed delay between publishings set for free acounts
and buffers frequent messagge preferably with status.</li>
</ul>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">config.Config</span></code></dt>
<dd>Class for managing configuration INI files.</dd>
</dl>
</div>
<dl class="attribute">
<dt id="gbj_pythonlib_sw.mqtt.ThingSpeak.GROUP_BROKER">
<code class="descname">GROUP_BROKER</code><em class="property"> = 'ThingSpeak'</em><a class="headerlink" href="#gbj_pythonlib_sw.mqtt.ThingSpeak.GROUP_BROKER" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> – Configuration section with ThingSpeak parameters.</p>
</dd></dl>

<dl class="attribute">
<dt id="gbj_pythonlib_sw.mqtt.ThingSpeak.OPTION_CHANNEL_ID">
<code class="descname">OPTION_CHANNEL_ID</code><em class="property"> = 'channel_id'</em><a class="headerlink" href="#gbj_pythonlib_sw.mqtt.ThingSpeak.OPTION_CHANNEL_ID" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – Configuration option with ThingSpeak channel id.</p>
</dd></dl>

<dl class="attribute">
<dt id="gbj_pythonlib_sw.mqtt.ThingSpeak.OPTION_MQTT_API_KEY">
<code class="descname">OPTION_MQTT_API_KEY</code><em class="property"> = 'mqtt_api_key'</em><a class="headerlink" href="#gbj_pythonlib_sw.mqtt.ThingSpeak.OPTION_MQTT_API_KEY" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> – Configuration option with ThingSpeak MQTT API key.</p>
</dd></dl>

<dl class="attribute">
<dt id="gbj_pythonlib_sw.mqtt.ThingSpeak.OPTION_PUBLISH_DELAY">
<code class="descname">OPTION_PUBLISH_DELAY</code><em class="property"> = 'publish_delay'</em><a class="headerlink" href="#gbj_pythonlib_sw.mqtt.ThingSpeak.OPTION_PUBLISH_DELAY" title="Permalink to this definition">¶</a></dt>
<dd><p><em>float</em> – Configuration option with minimal publish delay in seconds.
Default value is 15.0 s.</p>
</dd></dl>

<dl class="attribute">
<dt id="gbj_pythonlib_sw.mqtt.ThingSpeak.OPTION_WRITE_API_KEY">
<code class="descname">OPTION_WRITE_API_KEY</code><em class="property"> = 'write_api_key'</em><a class="headerlink" href="#gbj_pythonlib_sw.mqtt.ThingSpeak.OPTION_WRITE_API_KEY" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> – Configuration option with ThingSpeak write key.</p>
</dd></dl>

<dl class="method">
<dt id="gbj_pythonlib_sw.mqtt.ThingSpeak.get_publish_delay">
<code class="descname">get_publish_delay</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/mqtt.html#ThingSpeak.get_publish_delay"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.mqtt.ThingSpeak.get_publish_delay" title="Permalink to this definition">¶</a></dt>
<dd><p>Return minimal publish delay in seconds.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Minimal ThinsgSpeak publish delay in seconds.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gbj_pythonlib_sw.mqtt.ThingSpeak.publish">
<code class="descname">publish</code><span class="sig-paren">(</span><em>fields={}</em>, <em>status=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/mqtt.html#ThingSpeak.publish"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.mqtt.ThingSpeak.publish" title="Permalink to this definition">¶</a></dt>
<dd><p>Publish single message to ThingSpeak.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fields</strong> (<em>dict</em>) – Dictionary with ThingSpeak channel pairs
<code class="docutils literal notranslate"><span class="pre">field</span> <span class="pre">number:</span> <span class="pre">field</span> <span class="pre">value</span></code>, e.g., <cite>{1: 23.4, 2: 1}</cite>, where
<cite>field number</cite> is integer in the range <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">~</span> <span class="pre">8</span></code>.</li>
<li><strong>status</strong> (<em>str</em>) – Text to be published in the ThingSpeak channel as a status.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<ul class="simple">
<li>If a field number is outside the expected range, this field
is ignored.</li>
<li>If a value is none or empty, the corresponding field or status
is ignored.</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Flag about real, successful publishing to ThingSpeak.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal notranslate"><span class="pre">Exception</span></code> – General exception with error message from ThingSpeak.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-gbj_pythonlib_sw.statfilter">
<span id="gbj-pythonlib-sw-statfilter-module"></span><h2>gbj_pythonlib_sw.statfilter module<a class="headerlink" href="#module-gbj_pythonlib_sw.statfilter" title="Permalink to this headline">¶</a></h2>
<p>Module for statistical filtering and smoothing.</p>
<dl class="data">
<dt id="gbj_pythonlib_sw.statfilter.AVERAGE">
<code class="descclassname">gbj_pythonlib_sw.statfilter.</code><code class="descname">AVERAGE</code><em class="property"> = 0</em><a class="headerlink" href="#gbj_pythonlib_sw.statfilter.AVERAGE" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – Enumeration for statistical type <code class="docutils literal notranslate"><span class="pre">average</span></code>.</p>
</dd></dl>

<dl class="data">
<dt id="gbj_pythonlib_sw.statfilter.MAXIMUM">
<code class="descclassname">gbj_pythonlib_sw.statfilter.</code><code class="descname">MAXIMUM</code><em class="property"> = 3</em><a class="headerlink" href="#gbj_pythonlib_sw.statfilter.MAXIMUM" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – Enumeration for statistical type <code class="docutils literal notranslate"><span class="pre">maximum</span></code>.</p>
</dd></dl>

<dl class="data">
<dt id="gbj_pythonlib_sw.statfilter.MEDIAN">
<code class="descclassname">gbj_pythonlib_sw.statfilter.</code><code class="descname">MEDIAN</code><em class="property"> = 1</em><a class="headerlink" href="#gbj_pythonlib_sw.statfilter.MEDIAN" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – Enumeration for statistical type <code class="docutils literal notranslate"><span class="pre">median</span></code>.</p>
</dd></dl>

<dl class="data">
<dt id="gbj_pythonlib_sw.statfilter.MINIMUM">
<code class="descclassname">gbj_pythonlib_sw.statfilter.</code><code class="descname">MINIMUM</code><em class="property"> = 2</em><a class="headerlink" href="#gbj_pythonlib_sw.statfilter.MINIMUM" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – Enumeration for statistical type <code class="docutils literal notranslate"><span class="pre">minimum</span></code>.</p>
</dd></dl>

<dl class="class">
<dt id="gbj_pythonlib_sw.statfilter.StatFilter">
<em class="property">class </em><code class="descclassname">gbj_pythonlib_sw.statfilter.</code><code class="descname">StatFilter</code><span class="sig-paren">(</span><em>value_max=None</em>, <em>value_min=None</em>, <em>buffer_len=5</em>, <em>decimals=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/statfilter.html#StatFilter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.statfilter.StatFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Common statistical filtering and smoothing management.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>value_max</strong> (<em>float</em>) – Maximal measuring value acceptable for filtering.</li>
<li><strong>value_min</strong> (<em>float</em>) – Minimal measuring value acceptable for filtering.</li>
<li><strong>buffer_len</strong> (<em>int</em>) – Positive integer number of values held in the data buffer used for
statistical smoothing. It should be an odd number, otherwise it is
extended to the nearest odd one.</li>
<li><strong>decimals</strong> (<em>int</em>) – Positive integer number of decimal places for rounding statistical
results. If None is provided, no rounding occures.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>This class should not be instanciated. It servers as a abstract class and
a parent class for operational classes with corresponding statictical and
smoothing methods.</p>
<dl class="method">
<dt id="gbj_pythonlib_sw.statfilter.StatFilter.filter">
<code class="descname">filter</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/statfilter.html#StatFilter.filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.statfilter.StatFilter.filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter value against acceptable value range.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> (<em>float</em>) – Value to be filtered.
<em>The argument is mandatory and has no default value.</em></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">If the input value is outside of the acceptable value range, None
is returned, otherwise that value.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gbj_pythonlib_sw.statfilter.StatFilter.get_buffer_len">
<code class="descname">get_buffer_len</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/statfilter.html#StatFilter.get_buffer_len"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.statfilter.StatFilter.get_buffer_len" title="Permalink to this definition">¶</a></dt>
<dd><p>Return real length of the data buffer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Real utilized data buffer length.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<ul class="simple">
<li>Usually the returned value is the same as length put to the
constructor.</li>
<li>If class has adjusted or limited the input buffer length, the
method returns the actual length.</li>
<li>The method is useful, if the length has been put to the constructor
as a numeric literal and there is no variable of the length to use
it in other statements.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="gbj_pythonlib_sw.statfilter.StatFilter.get_readings">
<code class="descname">get_readings</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/statfilter.html#StatFilter.get_readings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.statfilter.StatFilter.get_readings" title="Permalink to this definition">¶</a></dt>
<dd><p>Return current number of values in data buffer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Number of values acctually present in the data buffer.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<ul class="simple">
<li>The statistical calculation can be provided before filling
the entire data buffer. In that case the method returns the values
count, which a statistic is calculated from.</li>
<li>Usually the returned value should be the same as length of the data
buffer at the end of a measurement cycle.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="gbj_pythonlib_sw.statfilter.StatFilter.get_value_max">
<code class="descname">get_value_max</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/statfilter.html#StatFilter.get_value_max"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.statfilter.StatFilter.get_value_max" title="Permalink to this definition">¶</a></dt>
<dd><p>Return maximal acceptable value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Current acceptable maximal value for statistical smoothing.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gbj_pythonlib_sw.statfilter.StatFilter.get_value_min">
<code class="descname">get_value_min</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/statfilter.html#StatFilter.get_value_min"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.statfilter.StatFilter.get_value_min" title="Permalink to this definition">¶</a></dt>
<dd><p>Return minimal acceptable value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Current acceptable minimal value for statistical smoothing.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gbj_pythonlib_sw.statfilter.StatFilter.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/statfilter.html#StatFilter.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.statfilter.StatFilter.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset instance object to initial state.</p>
</dd></dl>

<dl class="method">
<dt id="gbj_pythonlib_sw.statfilter.StatFilter.result">
<code class="descname">result</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/statfilter.html#StatFilter.result"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.statfilter.StatFilter.result" title="Permalink to this definition">¶</a></dt>
<dd><p>Round value if needed and possible.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> (<em>float</em>) – Value to be processed.
<em>The argument is mandatory and has no default value.</em></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Rouded value, if number of decimal places is defined, otherwise the
input value.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gbj_pythonlib_sw.statfilter.StatFilter.set_buffer">
<code class="descname">set_buffer</code><span class="sig-paren">(</span><em>buffer_len=5</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/statfilter.html#StatFilter.set_buffer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.statfilter.StatFilter.set_buffer" title="Permalink to this definition">¶</a></dt>
<dd><p>Adjust data buffer length for staticital smoothing.</p>
</dd></dl>

<dl class="method">
<dt id="gbj_pythonlib_sw.statfilter.StatFilter.set_filter">
<code class="descname">set_filter</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/statfilter.html#StatFilter.set_filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.statfilter.StatFilter.set_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Set acceptable value range.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Keyword Arguments:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><ul class="first last simple">
<li><strong>value_max</strong> (<em>float</em>) – Maximal measuring value acceptable for filtering.</li>
<li><strong>value_min</strong> (<em>float</em>) – Minimal measuring value acceptable for filtering.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<ul class="simple">
<li>Initial (default) values are defined by the constructor.</li>
<li>Use just that argument, which you need to changing.</li>
</ul>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gbj_pythonlib_sw.statfilter.StatFilterExponential">
<em class="property">class </em><code class="descclassname">gbj_pythonlib_sw.statfilter.</code><code class="descname">StatFilterExponential</code><span class="sig-paren">(</span><em>factor=0.5</em>, <em>value_max=None</em>, <em>value_min=None</em>, <em>decimals=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/statfilter.html#StatFilterExponential"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.statfilter.StatFilterExponential" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gbj_pythonlib_sw.statfilter.StatFilter" title="gbj_pythonlib_sw.statfilter.StatFilter"><code class="xref py py-class docutils literal notranslate"><span class="pre">gbj_pythonlib_sw.statfilter.StatFilter</span></code></a></p>
<p>Exponential statistical smoothing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>factor</strong> (<em>float</em>) – <p>Positive smoothing factor for exponential filtering.
It is converted to absolute value provided.</p>
<ul>
<li>Default value <code class="docutils literal notranslate"><span class="pre">0.5</span></code> means <code class="docutils literal notranslate"><span class="pre">runnig</span> <span class="pre">average</span></code>.</li>
<li>Acceptable value range is <code class="docutils literal notranslate"><span class="pre">0.0</span> <span class="pre">~</span> <span class="pre">1.0</span></code> and input value is limited
to it.</li>
</ul>
</li>
<li><strong>value_max</strong> (<em>float</em>) – Maximal measuring value acceptable for filtering.</li>
<li><strong>value_min</strong> (<em>float</em>) – Minimal measuring value acceptable for filtering.</li>
<li><strong>decimals</strong> (<em>int</em>) – Positive integer number of decimal places for rounding statistical
results. If None is provided, no rounding occures.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="gbj_pythonlib_sw.statfilter.StatFilterExponential.get_factor">
<code class="descname">get_factor</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/statfilter.html#StatFilterExponential.get_factor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.statfilter.StatFilterExponential.get_factor" title="Permalink to this definition">¶</a></dt>
<dd><p>Return current smoothing factor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Current smoothing factor utilized for statistical smoothing.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gbj_pythonlib_sw.statfilter.StatFilterExponential.result">
<code class="descname">result</code><span class="sig-paren">(</span><em>value=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/statfilter.html#StatFilterExponential.result"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.statfilter.StatFilterExponential.result" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate statistically smoothed value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> (<em>float</em>) – Sample value to be filtered.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">If None input value is provided, recent result is returned,
otherwise the new smoothed value is.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<ul class="simple">
<li>The method calculates a new filtered value from the input value,
previous stored filtered value, and stored smoothing factor in the
class instance object.</li>
<li>The very first input value is considered as a previous filtered value
or starting value.</li>
</ul>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gbj_pythonlib_sw.statfilter.StatFilterRunning">
<em class="property">class </em><code class="descclassname">gbj_pythonlib_sw.statfilter.</code><code class="descname">StatFilterRunning</code><span class="sig-paren">(</span><em>stat_type=0</em>, <em>value_max=None</em>, <em>value_min=None</em>, <em>buffer_len=5</em>, <em>decimals=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/statfilter.html#StatFilterRunning"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.statfilter.StatFilterRunning" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gbj_pythonlib_sw.statfilter.StatFilter" title="gbj_pythonlib_sw.statfilter.StatFilter"><code class="xref py py-class docutils literal notranslate"><span class="pre">gbj_pythonlib_sw.statfilter.StatFilter</span></code></a></p>
<p>Running statistical smoothing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>stat_type</strong> (<em>enum</em>) – Enumerated type of a statistic calculated from registered running
values. The argument is defined by one of module’s constants
<code class="docutils literal notranslate"><span class="pre">AVERAGE</span></code>, <code class="docutils literal notranslate"><span class="pre">MEDIAN</span></code>, <code class="docutils literal notranslate"><span class="pre">MINIMUM</span></code>, <code class="docutils literal notranslate"><span class="pre">MAXIMUM</span></code>.
Statistical type enables dynamically change statistical method for
smoothing input values without changing program code when just
one smoothing method is used.</li>
<li><strong>value_max</strong> (<em>float</em>) – Maximal measuring value acceptable for filtering.</li>
<li><strong>value_min</strong> (<em>float</em>) – Minimal measuring value acceptable for filtering.</li>
<li><strong>buffer_len</strong> (<em>int</em>) – Positive integer number of values held in the data buffer used for
statistical smoothing. It should be an odd number, otherwise it is
extended to the nearest odd one.</li>
<li><strong>decimals</strong> (<em>int</em>) – Positive integer number of decimal places for rounding statistical
results. If None is provided, no rounding occures.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="gbj_pythonlib_sw.statfilter.StatFilterRunning.get_stat_type">
<code class="descname">get_stat_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/statfilter.html#StatFilterRunning.get_stat_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.statfilter.StatFilterRunning.get_stat_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Return default running statistics type.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Numerical representation of current default statistical type.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gbj_pythonlib_sw.statfilter.StatFilterRunning.result">
<code class="descname">result</code><span class="sig-paren">(</span><em>value=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/statfilter.html#StatFilterRunning.result"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.statfilter.StatFilterRunning.result" title="Permalink to this definition">¶</a></dt>
<dd><p>Register new value and calculate default running statistic.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> (<em>float</em>) – Sample value to be filtered.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">If None input value is provided, the statistic is calculated from
current content of the data buffer.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<ul class="simple">
<li>The method calculates a new filtered value from the input value and
previously stored sample values in the class instance object.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="gbj_pythonlib_sw.statfilter.StatFilterRunning.result_avg">
<code class="descname">result_avg</code><span class="sig-paren">(</span><em>value=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/statfilter.html#StatFilterRunning.result_avg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.statfilter.StatFilterRunning.result_avg" title="Permalink to this definition">¶</a></dt>
<dd><p>Register new value and calculate running average.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> (<em>float</em>) – New sample value. If None is provided, statistic is calculated from
current content of the data buffer.</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The method calculates new statistic from the input value and previously
stored sample values in the class instance object.</p>
</dd></dl>

<dl class="method">
<dt id="gbj_pythonlib_sw.statfilter.StatFilterRunning.result_max">
<code class="descname">result_max</code><span class="sig-paren">(</span><em>value=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/statfilter.html#StatFilterRunning.result_max"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.statfilter.StatFilterRunning.result_max" title="Permalink to this definition">¶</a></dt>
<dd><p>Register new value and calculate running maximum.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> (<em>float</em>) – New sample value. If None is provided, statistic is calculated from
current content of the data buffer.</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The method calculates new statistic from the input value and previously
stored sample values in the class instance object.</p>
</dd></dl>

<dl class="method">
<dt id="gbj_pythonlib_sw.statfilter.StatFilterRunning.result_med">
<code class="descname">result_med</code><span class="sig-paren">(</span><em>value=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/statfilter.html#StatFilterRunning.result_med"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.statfilter.StatFilterRunning.result_med" title="Permalink to this definition">¶</a></dt>
<dd><p>Register new value and calculate running median.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> (<em>float</em>) – New sample value. If None is provided, statistic is calculated from
current content of the data buffer.</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<ul class="simple">
<li>The method calculates new statistic from the input value and
previously stored sample values in the class instance object.</li>
<li>Until the data buffer is full, the method calculates high median
at even readings in the buffer.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="gbj_pythonlib_sw.statfilter.StatFilterRunning.result_min">
<code class="descname">result_min</code><span class="sig-paren">(</span><em>value=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/statfilter.html#StatFilterRunning.result_min"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.statfilter.StatFilterRunning.result_min" title="Permalink to this definition">¶</a></dt>
<dd><p>Register new value and calculate running minimum.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> (<em>float</em>) – New sample value. If None is provided, statistic is calculated from
current content of the data buffer.</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The method calculates new statistic from the input value and previously
stored sample values in the class instance object.</p>
</dd></dl>

<dl class="method">
<dt id="gbj_pythonlib_sw.statfilter.StatFilterRunning.set_stat_type">
<code class="descname">set_stat_type</code><span class="sig-paren">(</span><em>stat_type</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/statfilter.html#StatFilterRunning.set_stat_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.statfilter.StatFilterRunning.set_stat_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Set running statistics type as a default for resulting.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>stat_type</strong> (<em>enum</em>) – Enumerated type of a statistic calculated from registered running
values by default in the method <cite>result</cite>.
The argument is defined by one of module’s constants
<code class="docutils literal notranslate"><span class="pre">AVERAGE</span></code>, <code class="docutils literal notranslate"><span class="pre">MEDIAN</span></code>, <code class="docutils literal notranslate"><span class="pre">MINIMUM</span></code>, <code class="docutils literal notranslate"><span class="pre">MAXIMUM</span></code>.
If none from allowed enumerations is provided, nothing changes and
statistical calculation is executed by current type.
<em>The argument is mandatory and has no default value.</em></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-gbj_pythonlib_sw.timer">
<span id="gbj-pythonlib-sw-timer-module"></span><h2>gbj_pythonlib_sw.timer module<a class="headerlink" href="#module-gbj_pythonlib_sw.timer" title="Permalink to this headline">¶</a></h2>
<p>Module for creating a timer and setting its prescalers.</p>
<p>A prescaler can be considered as a timer period divider and can run its own
callbacks separately from the timer’s callbacks.</p>
<dl class="class">
<dt id="gbj_pythonlib_sw.timer.Timer">
<em class="property">class </em><code class="descclassname">gbj_pythonlib_sw.timer.</code><code class="descname">Timer</code><span class="sig-paren">(</span><em>period</em>, <em>callback</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/timer.html#Timer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.timer.Timer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Creating a timer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>period</strong> (<em>float</em>) – Positive float interval of the timer in seconds. If other type is
provided, it is converted to an absolute float.
<em>The argument is mandatory and has no default value.</em></li>
<li><strong>callback</strong> (<em>function</em><em>, </em><em>tuple of functions</em>) – One of more functions in role of callbacks that the timer calls
when expires.
<em>The argument is mandatory and has no default value.</em></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Keyword Arguments:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><ul class="first last simple">
<li><strong>count</strong> (<em>int</em>) – Positive integer number of desired shots of the timer. If other
type is provided, it is converted to absolute integer.
If it is not defined, the timer is processed as periodic one with
endless running.</li>
<li><strong>name</strong> (<em>str</em>) – Name of the timer incorporated to its object. If none is provided,
the name of the class is used.
This name has nothing commong with registration name of the timer used
in the function <cite>register_timer</cite>. However, it is convinient to use
the same name for both purposes.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<ul class="simple">
<li>If the timer is created without defined count of shots, it is a periodic
timer marked with <code class="docutils literal notranslate"><span class="pre">R</span></code> as <code class="docutils literal notranslate"><span class="pre">repeating</span></code> in the string instance
representation.</li>
<li>If the timer is created with count greater than 1, it is a countdown
timer marked with <code class="docutils literal notranslate"><span class="pre">C</span></code> as <code class="docutils literal notranslate"><span class="pre">countdown</span></code> in the string instance
representation.</li>
<li>If the timer is created with count equal 1, it is an one-shot timer
marked with <code class="docutils literal notranslate"><span class="pre">O</span></code> as <code class="docutils literal notranslate"><span class="pre">oneshot</span></code> in the string instance representation.</li>
<li>Keyword arguments not listed here are passed to the callback function(s).</li>
</ul>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#gbj_pythonlib_sw.timer.register_timer" title="gbj_pythonlib_sw.timer.register_timer"><code class="xref py py-class docutils literal notranslate"><span class="pre">register_timer</span></code></a></dt>
<dd>Registration of timers under names.</dd>
</dl>
</div>
<dl class="method">
<dt id="gbj_pythonlib_sw.timer.Timer.get_prescalers">
<code class="descname">get_prescalers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/timer.html#Timer.get_prescalers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.timer.Timer.get_prescalers" title="Permalink to this definition">¶</a></dt>
<dd><p>Return dictionary of prescalers.</p>
</dd></dl>

<dl class="method">
<dt id="gbj_pythonlib_sw.timer.Timer.prescaler">
<code class="descname">prescaler</code><span class="sig-paren">(</span><em>factor</em>, <em>callback</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/timer.html#Timer.prescaler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.timer.Timer.prescaler" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a callback function called at each factor tick.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>factor</strong> (<em>int</em>) – Positive integer as a divider of the timer’s period. It is
truncated to an absolute integer and ignored, if it results to less
than 2. The factor is used as a key in registration dictionary of
prescalers.
<em>The argument is mandatory and has no default value.</em></li>
<li><strong>callback</strong> (<em>function</em><em>, </em><em>tuple of functions</em>) – One or more functions calling by the timer at each factor-th
period.
<em>The argument is mandatory and has no default value.</em></li>
<li><strong>args</strong> (<em>tuple</em>) – Additional positional arguments passed to the callback(s).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Keyword Arguments:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first last"><strong>kwargs</strong> (<em>dict</em>) – Additional keyword arguments passed to the callback(s).</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<ul class="simple">
<li>The prescaler method enables launching a specific callback or more
callback at multiple timer periods and acts as a frequency divider.</li>
<li>Prescale factor equal 1 is useless, because it is equivalent to basic
timer callback. In this case it is ignored.</li>
<li>The prescaler method can be called multiple times. For the same
factor the corresponding callback is updated including its arguments.
If none factor is provided, the prescaler is removed.</li>
<li>None of prescalers is launched, if timer’s callback is not defined or
timer is one-time one.</li>
<li>All prescalers are called at random order, but usually in order of
their registration.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="gbj_pythonlib_sw.timer.Timer.start">
<code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/timer.html#Timer.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.timer.Timer.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Create timer thread object and store it in the instance.</p>
</dd></dl>

<dl class="method">
<dt id="gbj_pythonlib_sw.timer.Timer.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/timer.html#Timer.stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.timer.Timer.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Destroy timer thread object.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="gbj_pythonlib_sw.timer.register_timer">
<code class="descclassname">gbj_pythonlib_sw.timer.</code><code class="descname">register_timer</code><span class="sig-paren">(</span><em>name</em>, <em>timer=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/timer.html#register_timer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.timer.register_timer" title="Permalink to this definition">¶</a></dt>
<dd><p>Store a timer object in the registration dictionary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<em>str</em>) – <p>Name of a timer that is used as a key in timers registration
dictionary, so that it has to be unique within all registered timers.
<em>The argument is mandatory and has no default value.</em></p>
<ul>
<li>If name already exists in the dictionary, the timer is updated.</li>
<li>If name is not correct dictionary key, the registration is ingored.</li>
</ul>
</li>
<li><strong>timer</strong> (<em>object</em>) – Object of a timer that is used as a value in timers registration
dictionary.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<ul class="simple">
<li>Object is instance of the class <code class="docutils literal notranslate"><span class="pre">Timer</span></code> from the standard library
module <code class="docutils literal notranslate"><span class="pre">threading</span></code>.</li>
<li>If none object is provided and name already exists, the named timer
is stopped and removed from the dictionary.</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="gbj_pythonlib_sw.timer.start_timers">
<code class="descclassname">gbj_pythonlib_sw.timer.</code><code class="descname">start_timers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/timer.html#start_timers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.timer.start_timers" title="Permalink to this definition">¶</a></dt>
<dd><p>Start all registered timers.</p>
</dd></dl>

<dl class="function">
<dt id="gbj_pythonlib_sw.timer.stop_timers">
<code class="descclassname">gbj_pythonlib_sw.timer.</code><code class="descname">stop_timers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/timer.html#stop_timers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.timer.stop_timers" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop all registered timers.</p>
</dd></dl>

<dl class="data">
<dt id="gbj_pythonlib_sw.timer.timers">
<code class="descclassname">gbj_pythonlib_sw.timer.</code><code class="descname">timers</code><em class="property"> = {}</em><a class="headerlink" href="#gbj_pythonlib_sw.timer.timers" title="Permalink to this definition">¶</a></dt>
<dd><p><em>dict</em> – Registration storage of timers.</p>
</dd></dl>

</div>
<div class="section" id="module-gbj_pythonlib_sw.trigger">
<span id="gbj-pythonlib-sw-trigger-module"></span><h2>gbj_pythonlib_sw.trigger module<a class="headerlink" href="#module-gbj_pythonlib_sw.trigger" title="Permalink to this headline">¶</a></h2>
<p>Module for managing and executing triggers as value dependend callbacks.</p>
<dl class="data">
<dt id="gbj_pythonlib_sw.trigger.LOWER">
<code class="descclassname">gbj_pythonlib_sw.trigger.</code><code class="descname">LOWER</code><em class="property"> = 1</em><a class="headerlink" href="#gbj_pythonlib_sw.trigger.LOWER" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – Enumeration for lower trigger mode.</p>
</dd></dl>

<dl class="class">
<dt id="gbj_pythonlib_sw.trigger.Trigger">
<em class="property">class </em><code class="descclassname">gbj_pythonlib_sw.trigger.</code><code class="descname">Trigger</code><a class="reference internal" href="_modules/gbj_pythonlib_sw/trigger.html#Trigger"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.trigger.Trigger" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Creating a trigger manager.</p>
<dl class="method">
<dt id="gbj_pythonlib_sw.trigger.Trigger.del_triggers">
<code class="descname">del_triggers</code><span class="sig-paren">(</span><em>ids=[]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/trigger.html#Trigger.del_triggers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.trigger.Trigger.del_triggers" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete all or listed triggers.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ids</strong> (<em>list</em>) – List of trigger identifiers that should be removed from class
instance regristration.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gbj_pythonlib_sw.trigger.Trigger.exec_triggers">
<code class="descname">exec_triggers</code><span class="sig-paren">(</span><em>value</em>, <em>ids=[]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/trigger.html#Trigger.exec_triggers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.trigger.Trigger.exec_triggers" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate and execute all or listed triggers.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>value</strong> (<em>float</em>) – Comparison value, which is compared to threshold values of triggers
in order to run callback(s) or not.
<em>The argument is mandatory and has no default value.</em></li>
<li><strong>ids</strong> (<em>list</em>) – <p>List of trigger identifiers that should be evaluated.</p>
<ul>
<li>If the input value is not a list, e.g., just string with
identifier of one trigger or string with tuple of identifiers,
it is converted to the list.</li>
<li>If argument is not provided, all triggers are executed against
the comparison value.</li>
</ul>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Other Parameters:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><ul class="first last simple">
<li><strong>value</strong> (<em>float</em>) – Comparison value.</li>
<li><strong>threshold</strong> (<em>float</em>) – Threshold value taken from definition of respective trigger.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The method injects other parameters to each called callback function
as keyword arguments in order to inform those callbacks about values,
that caused  their invocation.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="gbj_pythonlib_sw.trigger.Trigger.get_triggers">
<code class="descname">get_triggers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/trigger.html#Trigger.get_triggers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.trigger.Trigger.get_triggers" title="Permalink to this definition">¶</a></dt>
<dd><p>Return list of triggers.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Registered triggers with all their parameters.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gbj_pythonlib_sw.trigger.Trigger.set_trigger">
<code class="descname">set_trigger</code><span class="sig-paren">(</span><em>id</em>, <em>mode=None</em>, <em>value=None</em>, <em>callback=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gbj_pythonlib_sw/trigger.html#Trigger.set_trigger"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gbj_pythonlib_sw.trigger.Trigger.set_trigger" title="Permalink to this definition">¶</a></dt>
<dd><p>Create or update trigger and register it to class instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>id</strong> – Unique identifier of a trigger in the list of them of any type.
<em>The argument is mandatory and has no default value.</em></li>
<li><strong>mode</strong> (<em>enum</em>) – <p>Processing mode of the trigger. The argument is defined by one of
module’s constants <code class="docutils literal notranslate"><span class="pre">UPPER</span></code>, <code class="docutils literal notranslate"><span class="pre">LOWER</span></code>.</p>
<ul>
<li>Upper trigger calls callback(s) when comparison value reaches or
exceeds the threshold value.</li>
<li>Lower trigger calls callback(s) when comparison value sinks to
the threshold value or below.</li>
</ul>
</li>
<li><strong>value</strong> (<em>float</em>) – Threshold value, which in comparison to an comparison value causes
running a callback function.</li>
<li><strong>callback</strong> (<em>function</em><em>, </em><em>tuple of functions</em>) – One of more functions in role of callbacks that the trigger calls
when threshold value is reached from direction corresponding to the
mode of the trigger.</li>
<li><strong>args</strong> (<em>tuple</em>) – Additional positional arguments passed to the callback(s) after
forced arguments by this class.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Keyword Arguments:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first"><strong>kwargs</strong> (<em>dict</em>) – Additional keyworded arguments passed to the callback(s).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><code class="xref py py-exc docutils literal notranslate"><span class="pre">NameError</span></code> – Identifier is not provided.</li>
<li><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code> – Mode is not from the expected enumeration.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<ul class="simple">
<li>The trigger method can be called multiple times.</li>
<li>For the same trigger identifier corresponding callback is updated
including its arguments.</li>
</ul>
</dd></dl>

</dd></dl>

<dl class="data">
<dt id="gbj_pythonlib_sw.trigger.UPPER">
<code class="descclassname">gbj_pythonlib_sw.trigger.</code><code class="descname">UPPER</code><em class="property"> = 0</em><a class="headerlink" href="#gbj_pythonlib_sw.trigger.UPPER" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – Enumeration for upper trigger mode.</p>
</dd></dl>

</div>
<div class="section" id="module-gbj_pythonlib_sw">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-gbj_pythonlib_sw" title="Permalink to this headline">¶</a></h2>
<p>Initial module importing all library modules of the package.</p>
<ul class="simple">
<li>config</li>
<li>mqtt</li>
<li>statfilter</li>
<li>timer</li>
<li>trigger</li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Libor Gabaj.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0.0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>